/* --------------------------------
 * 动画
 * --------------------------------
 */
#animation-head {
  display: flex;
  position: absolute;
  flex: 1 0 auto;
  justify-content: space-between;
  top: -25px;
  right: 0;
  height: 24px;
  overflow: hidden;
  background-color: var(--group-head-background);
}

#animation-head-start {
  display: flex;
  flex: 0 0 auto;
  /*background: yellow;*/
}

#animation-head-start > .toolbar-item::after {
  content: '';
  display: block;
  margin: 4px 6px;
  width: 16px;
  height: 16px;
  background-color: var(--text-color);
}

#animation-switch-mark::after {
  -webkit-mask-image: url("../images/animation_layer.png");
  -webkit-mask-size: 100% 200%;
  -webkit-mask-position: 0 0;
}

#animation-switch-onionskin::after {
  -webkit-mask-image: url("../images/animation_buttons.png");
  -webkit-mask-size: 100% 200%;
  -webkit-mask-position: 0 0;
}

#animation-switch-mirror::after {
  -webkit-mask-image: url("../images/animation_buttons.png");
  -webkit-mask-size: 100% 200%;
  -webkit-mask-position: 0 -100%;
}

#animation-switch-settings::after {
  -webkit-mask-image: url("../images/common_settings.png");
  -webkit-mask-size: 100% 100%;
  -webkit-mask-position: 0 0;
}

#animation-head-center {
  display: flex;
  flex: 0 0 auto;
  /*background: green;*/
}

#animation-speed {
  margin: 2px;
  width: 82px;
}

#animation-head-end {
  flex: 0 0 auto;
  /*background: blue;*/
}

#animation-zoom {
  /*position: absolute;*/
  margin: 2px 4px;
  right: 0;
  width: 80px;
}

#animation-screen {
  position: absolute;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

#animation-dirList {
  display: flex;
  flex-direction: column;
  position: absolute;
  width: 100px;
  height: 100px;
  /*background-color: green;*/
}

anim-dir {
  margin: 4px 0 0 4px;
  width: 32px;
  height: 32px;
  line-height: 32px;
  text-align: center;
  font-size: 1.2em;
  color: white;
  background-color: rgba(255, 255, 255, 0.25);
  border-radius: 4px;
  opacity: 0.25;
}

anim-dir:hover {
  opacity: 0.5;
}

anim-dir.selected {
  opacity: 1;
}

#animation-timeline {
  position: absolute;
  width: 100%;
  height: 100%;
}

#animation-timeline-head {
  position: absolute;
  top: -25px;
  right: 0;
  height: 24px;
  background-color: var(--group-head-background);
}

#animation-timeline-toolbar {
  display: flex;
  position: absolute;
  left: 0;
  top: 0;
  height: 24px;
  font-family: var(--font-family-symbol);
  overflow: hidden;
  /*background-color: blue;*/
}

#animation-timeline-toolbar > .toolbar-item {
  min-width: 16px;
}

#animation-timeline-toolbar > .toolbar-item::after {
  content: '';
  display: block;
  margin: 4px auto;
  width: 16px;
  height: 16px;
  background-color: var(--text-color);
  -webkit-mask-image: url("../images/timeline_buttons.png");
  -webkit-mask-size: 100% 700%;
}

#animation-timeline-play::after {
  -webkit-mask-position: 0 0;
}

#animation-timeline-play.playing::after {
  -webkit-mask-position: 0 -100%;
}

#animation-timeline-previous::after {
  -webkit-mask-position: 0 -200%;
}

#animation-timeline-next::after {
  -webkit-mask-position: 0 -300%;
}

#animation-timeline-previousKey::after {
  -webkit-mask-position: 0 -400%;
}

#animation-timeline-nextKey::after {
  -webkit-mask-position: 0 -500%;
}

#animation-timeline-loop::after {
  -webkit-mask-position: 0 -600%;
}

#animation-timeline-ruler-outer {
  position: absolute;
  top: 0;
  right: 0;
  height: 24px;
  /*background-color: green;*/
  overflow: hidden;
}

/*#animation-timeline-ruler-outer::before {
  content: '';
  position: absolute;
  margin-left: -3px;
  width: 0;
  height: 20px;
  border-left: var(--nav-bar-border);
}*/

#animation-timeline-ruler-inner {
  display: flex;
  position: absolute;
  margin-left: -16px;
  height: 24px;
  /*background-color: blue;*/
  background-image: var(--timeline-ruler-background);
  background-size: 16px 24px;
}

.timeline-number {
  flex: 0 0 auto;
  padding-left: 0;
  padding-right: 32px;
  width: 80px;
  height: 24px;
  line-height: 24px;
  /*font-size: 0.9em;*/
  text-align: center;
  text-shadow: var(--timeline-ruler-number-shadow);
  /*background-color: red;*/
}

#animation-layer-list {
  position: absolute;
  padding-bottom: 12px;
  left: 0;
  top: 0;
  bottom: 0;
  width: 18%;
  border-right: var(--nav-bar-border);
}

/*使用零宽滚动条在拖拽列表项的时候可以滚动*/
#animation-layer-list::-webkit-scrollbar:vertical {
  width: 0;
}

#animation-layer-list > node-item {
  background-clip: padding-box;
  border-bottom: 1px solid transparent;
}

:focus > .selected > node-icon.anim-layer-joint,
:focus > .selected > node-icon.anim-layer-sprite {
  background-color: white;
}

.anim-layer-joint {
  background-color: var(--file-icon-color);
  -webkit-mask-image: url("../images/animation_layer.png");
  -webkit-mask-size: 100% 200%;
  -webkit-mask-position: 0 0;
}

.anim-layer-sprite {
  background-color: var(--file-icon-color);
  -webkit-mask-image: url("../images/animation_layer.png");
  -webkit-mask-size: 100% 200%;
  -webkit-mask-position: 0 -100%;
}

.anim-layer-particle {
  background-color: var(--file-icon-color);
  -webkit-mask-image: url("../images/scene_view.png");
  -webkit-mask-size: 100% 400%;
  -webkit-mask-position: 0 -300%;
}

#animation-timeline-list-outer {
  position: absolute;
  left: 18%;
  top: 0;
  right: 0;
  bottom: 0;
  overflow-x: auto;
  background-color: var(--timeline-frame-list-background);
}

#animation-timeline-list-outer:focus {
  background-image: linear-gradient(
    to right,
    rgba(64, 128, 192, 0) 0%,
    rgba(64, 128, 192, 0.5) 20%,
    rgba(64, 128, 192, 0.5) 80%,
    rgba(64, 128, 192, 0) 100%
  );
  background-size: 100% 1px;
  background-repeat: no-repeat;
}

#animation-timeline-list-inner {
  display: block;
  /*width: 2000px;*/
}

.timeline-frames {
  display: block;
  width: 100%;
  height: 20px;
   /*background-color: rgba(0, 0, 0, 0.1); */
  background-image: var(--timeline-grid);
  background-size: 80px 20px;
  border-bottom: var(--timeline-grid-border);
  pointer-events: none;
}

.timeline-key {
  position: absolute;
  width: 16px;
  height: 20px;
  background-color: var(--timeline-key-background);
  pointer-events: none;
}

.timeline-key::before {
  content: '';
  position: absolute;
  margin-left: 2px;
  margin-top: 4px;
  width: 11px;
  height: 11px;
  background-color: var(--timeline-key-mark-color);
  border-radius: 50%;
}

.timeline-key.easing::before {
  background-color: var(--timeline-key-easing-color);
}

.timeline-key.long:not(.easing)::after {
  content: '';
  position: absolute;
  margin-right: 3px;
  margin-top: 4px;
  top: 0;
  right: 0;
  width: 9px;
  height: 9px;
  border: 1px solid var(--timeline-key-long-color);
}

.timeline-key.long.easing::after {
  content: '';
  position: absolute;
  top: 9px;
  left: 15px;
  right: 0;
  border-top: 1px dotted var(--timeline-key-mark-color);
}

#animation-timeline-cursor {
  position: absolute;
  width: 16px;
  height: 20px;
  background-clip: content-box;
  background-color: var(--timeline-cursor-background);
  border-right: 1px solid transparent;
  border-bottom: 1px solid transparent;
  pointer-events: none;
}

#animation-timeline-marquee {
  position: absolute;
  /*width: 16px;*/
  height: 20px;
  background-clip: content-box;
  background-color: var(--timeline-marquee-background);
  border-right: 1px solid transparent;
  border-bottom: 1px solid transparent;
  pointer-events: none;
}

#animation-timeline-marquee-shift {
  position: absolute;
  /*width: 16px;*/
  height: 20px;
  background-clip: content-box;
  background-color: var(--timeline-marquee-shift-background);
  border-right: 1px solid transparent;
  border-bottom: 1px solid transparent;
  pointer-events: none;
}

#animation-timeline-marquee-shift.disabled {
  background-color: var(--timeline-marquee-shift-background-disabled);
}

#animation-timeline-pointer-area-outer {
  position: absolute;
  left: 18%;
  top: -25px;
  right: 0;
  bottom: 0;
  overflow: hidden;
  pointer-events: none;
  /*background-color: green;*/
}

#animation-timeline-pointer-area-outer.has-horiz-scrollbar {
  bottom: 12px;
}

#animation-timeline-pointer-area-outer.has-vert-scrollbar {
  right: 12px;
}

#animation-timeline-pointer-area-inner {
  position: absolute;
  height: 100%;
}

#animation-timeline-pointer {
  position: absolute;
  margin-left: 7px;
  top: 21px;
  bottom: 0;
  border-left: 1px dotted #cc0000;
}

/*#animation-timeline-pointer::before {
  content: '';
  display: block;
  margin-left: -7px;
  width: 13px;
  border-top: 1px dotted #cc0000;
}*/

#animation-list-head {
  position: absolute;
  top: -25px;
  right: 0;
  height: 24px;
  overflow: hidden;
  background-color: var(--group-head-background);
}

#animation-searcher {
  margin: 2px;
  width: calc(100% - 4px);
}

#animation-list {
  position: absolute;
  width: 100%;
  height: 100%;
}

/* --------------------------------
 * 动画过渡
 * --------------------------------
 */
#animation-easing {
  position: absolute;
  width: 100%;
  height: 100%;
}

#animation-easing-head {
  display: flex;
  position: absolute;
  justify-content: space-between;
  top: -25px;
  right: 0;
  height: 24px;
  overflow: hidden;
  background-color: var(--group-head-background);
}

#animation-easing-settings::after {
  content: '';
  display: block;
  margin: 4px 6px;
  width: 16px;
  height: 16px;
  background-color: var(--text-color);
  -webkit-mask-image: url("../images/curve_settings.png");
  -webkit-mask-size: 100% 100%;
  -webkit-mask-position: 0 0;
}

#animation-easing-id {
  margin: 2px;
  flex: 1 1 auto;
  /*background: blue;*/
}

#animation-easing-canvas {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
